name = "durable-streams-admin-core"
main = "src/server.ts"
compatibility_date = "2026-02-02"
compatibility_flags = ["nodejs_compat"]

[[services]]
binding = "CORE"
service = "durable-streams"

# Replace with your actual KV namespace ID from: wrangler kv namespace create REGISTRY
[[kv_namespaces]]
binding = "REGISTRY"
id = "REGISTRY_ID"

[vars]
# Required: public URL of the core worker so the browser can open SSE connections.
# Without this, live event streaming on the stream detail page will not work.
CORE_URL = "https://durable-streams.your-subdomain.workers.dev"
# CF_ACCOUNT_ID = "your-account-id"
# CF_API_TOKEN = "your-api-token-with-analytics-read"
# CF_ACCESS_TEAM_DOMAIN = "your-team-name"

[observability]
enabled = true
